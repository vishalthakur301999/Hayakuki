<section class="match-tbar">
  <div class="flex flex-column pa4">
    <div class="w-100 pa4">
      <form #tripTypeForm="ngForm">
        <mat-button-toggle-group class="w-100" name="ticketType" aria-label="Font Style" [(ngModel)] = "tripType">
          <mat-button-toggle class="w-50" value="oneway">One Way</mat-button-toggle>
          <mat-button-toggle class="w-50" value="round-trip">Round Trip</mat-button-toggle>
        </mat-button-toggle-group>
      </form>
    </div>
  <div *ngIf="tripType==='oneway' then oneway; else round" class="w-100"></div>
    <ng-template #oneway>
      <div class="flex flex-wrap justify-center">
        <form #oneWayForm = "ngForm" (ngSubmit)="oneWaySubmit(oneWayForm.value)">

          <mat-form-field appearance="outline" class="example-full-width pa3-ns pa1 w-20-ns w-100" >
            <mat-label>From</mat-label>
            <input type="text" name="from" matInput required  [matAutocomplete]="auto" ngModel>
            <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn">
              <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
                {{option.name}}
              </mat-option>
            </mat-autocomplete>
            <mat-icon matSuffix>flight_takeoff</mat-icon>
          </mat-form-field>

          <mat-form-field appearance="outline" class="example-full-width pa3-ns pa1 w-20-ns w-100">
            <mat-label>To</mat-label>
            <input type="text" name="to" matInput required  [matAutocomplete]="auto" ngModel>
            <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn">
              <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
                {{option.name}}
              </mat-option>
            </mat-autocomplete>
            <mat-icon matSuffix>flight_land</mat-icon>
          </mat-form-field>

          <mat-form-field appearance="outline" class="example-full-width pa3-ns pa1 w-20-ns w-100">
            <mat-label>Choose a date</mat-label>
            <input matInput name="dot" [min]="minDate" required [matDatepicker]="picker" [value]="curDate" ngModel>
            <mat-datepicker-toggle matSuffix [for]="picker">
              <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
            </mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>

          <mat-form-field appearance="outline" class="example-full-width pa3-ns pa1 w-20-ns w-100">
            <mat-label>Travellers</mat-label>
            <select name="count" matNativeControl required ngModel>
              <option *ngFor="let n of nums">{{n}}</option>
            </select>
          </mat-form-field>

          <button class="example-full-width pa3 w-10-ns w-100">Fly</button>

        </form>
      </div>
    </ng-template>

    <ng-template #round>
      <div class="flex flex-wrap">
        <form #twoWayForm = "ngForm">

        <mat-form-field class="example-full-width">
          <mat-label>From</mat-label>
          <input type="text" matInput [formControl]="myControl" [matAutocomplete]="auto">
          <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn">
            <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
              {{option.name}}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>

        <mat-form-field class="example-full-width">
          <mat-label>To</mat-label>
          <input type="text" matInput [formControl]="myControl" [matAutocomplete]="auto">
          <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn">
            <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
              {{option.name}}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
        <!-- From date -->
        <mat-form-field class="example-full-width" appearance="fill">
          <mat-label>Departure</mat-label>
          <input matInput [min]="minDate" [matDatepicker]="departurePicker">
          <mat-datepicker-toggle matSuffix [for]="departurePicker">
            <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
          </mat-datepicker-toggle>
          <mat-datepicker #departurePicker></mat-datepicker>
        </mat-form-field>
        <!-- To date -->
        <mat-form-field class="example-full-width" appearance="fill">
          <mat-label>Return</mat-label>
          <input matInput [min]="minDate" [matDatepicker]="returnPicker">
          <mat-datepicker-toggle matSuffix [for]="returnPicker">
            <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
          </mat-datepicker-toggle>
          <mat-datepicker #returnPicker></mat-datepicker>
        </mat-form-field>
        </form>
      </div>

    </ng-template>
  </div>
</section>
